# Generated by BehavEd
# ( "Turns lever and statue, then gets rotation of both statues" )
# ( "zoneflag = 0 = no rotation = south" )
# ( "zoneflag = 1 = turned 90 degrees = east" )
# ( "zoneflag = 2 = turned 180 degrees = north" )
# ( "zoneflag = 3 = turned 270 degrees = west" )
startCutScene("FALSE", "FALSE" )
copyOriginAndAngles("_ACTIVATOR_", "lev1_null" )
playanim (  "EA_ZONE3", "_ACTIVATOR_", "NONE", "" )
act("rot_lever1", "rot_lever1" )
waittimed ( 1.000 )
cameraFocusToEntity("cam_statue1", 512.000, 35.000, 0.000, 1.000 )
waittimed ( 1.000 )
act("rot_statue1", "rot_statue1" )
# ( "Math to set ZoneVar to current rotation" )
rotation1 = getZoneVar("statue1" )
newrotation = iadd(rotation1, 1 )
# ( "If the 'newrotation' value is 4, set zonevar to 0 since a full 360 turn has occured" )
# ( "If not, set the zonevar to the newrotation" )
if newrotation == 4
     setZoneVar("statue1", 0 )
else
     setZoneVar("statue1", newrotation )
endif
# ( "see if statues are in the correct rotations" )
# ( "if they are, do some cool stuff" )
rotation1 = getZoneVar("statue1" )
rotation2 = getZoneVar("statue2" )
if rotation1 == 3
     if rotation2 == 2
          remove ( "trigger_lever1", "trigger_lever1" )
          remove ( "trigger_lever2", "trigger_lever2" )
          remove ( "relay_door_sp", "relay_door_sp" )
          cameraFade(1.000, 1.000 )
          waittimed ( 1.000 )
          cameraFocusToEntity("bigdoor", 600.000, 35.000, 90.000, 0.000 )
          cameraFade(0.000, 1.000 )
          waittimed ( 1.250 )
          act("lightning1", "lightning1" )
          act("loop_effect_bang5", "loop_effect_bang5" )
          act("loop_effect_bang6", "loop_effect_bang6" )
          waittimed ( 0.100 )
          killEntity("bigdoor" )
          act("loop_effect_bang7", "loop_effect_bang7" )
          act("loop_effect_bang8", "loop_effect_bang8" )
          waittimed ( 0.100 )
          act("loop_effect_bang9", "loop_effect_bang9" )
          act("loop_effect_bang10", "loop_effect_bang10" )
          remove ( "lightning1", "lightning1" )
          waittimed ( 0.800 )
          act("lightning2", "lightning2" )
          remove ( "clay_stat11", "clay_stat11" )
          act("loop_effect_bang1", "loop_effect_bang1" )
          waittimed ( 0.100 )
          act("ss_clayS11", "ss_clayS11" )
          act("loop_effect_bang2", "loop_effect_bang2" )
          remove ( "lightning2", "lightning2" )
          waittimed ( 0.250 )
          act("lightning3", "lightning3" )
          act("loop_effect_bang4", "loop_effect_bang4" )
          remove ( "clay_stat12", "clay_stat12" )
          waittimed ( 0.100 )
          act("ss_clayS12", "ss_clayS12" )
          act("loop_effect_bang3", "loop_effect_bang3" )
          remove ( "lightning3", "lightning3" )
          waittimed ( 1.000 )
          cameraFade(1.000, 1.000 )
          waittimed ( 1.000 )
          cameraReset( )
          waittimed ( 0.100 )
          cameraFade(0.000, 1.000 )
          waittimed ( 1.000 )
     else
          waittimed ( 3.000 )
     endif
else
     waittimed ( 3.000 )
endif
# ( "End the cutscene!" )
endCutScene("FALSE", "TRUE" )

