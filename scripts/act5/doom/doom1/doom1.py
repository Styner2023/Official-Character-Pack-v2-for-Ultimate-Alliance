# Generated by BehavEd
# ( "comment" )
setEnable("xtraction_point01", "FALSE" )
end = getGameFlag("doom_end", 1 )
if end == 0
     checkgaunt = getObjective("doom_obj20", "COMPLETE" )
     # ( "" )
     if checkgaunt == 1
          checkplate = getObjective("doom_obj30", "COMPLETE" )
          if checkplate == 1
               checkmask = getObjective("doom_obj40", "COMPLETE" )
               if checkmask == 1
                    # ( "this let's you open the door to doom4" )
                    setEnable("lab_door", "TRUE" )
                    remove ( "lab_trig", "lab_trig" )
                    # ( "new jiggery with the xtraction point and doorway back to the beginning" )
                    remove ( "end_pillar01", "end_pillar01" )
                    remove ( "end_pillar02", "end_pillar02" )
                    remove ( "back_door", "back_door" )
                    setEnable("back_trigger01", "TRUE" )
                    setEnable("back_trigger02", "TRUE" )
                    # ( "---" )
                    # ( "continue on with the cutscene as normal" )
                    act("light_doom4", "light_doom4" )
                    startCutScene("FALSE", "FALSE" )
                    remove ( "doom_light1", "doom_light1" )
                    remove ( "doom_light2", "doom_light2" )
                    remove ( "doom_light3", "doom_light3" )
                    remove ( "trigger_statue_looker", "trigger_statue_looker" )
                    waittimed ( 0.500 )
                    cameraFollowMotionPath("doom/entrance_cam1", "mp_entrance_cam1", "TRUE", "TRUE", "FALSE", "" )
                    waittimed ( 2.000 )
                    act("doom_lightclamp3", "doom_lightclamp3" )
                    act("doom_lightclamp2", "doom_lightclamp2" )
                    act("doom_lightclamp1", "doom_lightclamp1" )
                    waittimed ( 14.000 )
                    killEntity("breakstation1" )
                    waittimed ( 2.750 )
                    killEntity("breakstation2" )
                    waittimed ( 2.200 )
                    killEntity("breakstation3" )
                    act("upgrade_enabler", "upgrade_enabler" )
                    waittimed ( 7.000 )
                    remove ( "doom_lightclamp1", "doom_lightclamp1" )
                    remove ( "doom_lightclamp2", "doom_lightclamp2" )
                    remove ( "doom_lightclamp3", "doom_lightclamp3" )
                    copyOriginAndAngles("doom_armor", "plate_null" )
                    copyOriginAndAngles("doom_gauntlets", "gaunt_null" )
                    copyOriginAndAngles("doom_mask", "mask_null" )
                    setEnable("xtraction_point01", "TRUE" )
                    act("statue_lightbeam", "statue_lightbeam" )
                    act("statue_beam", "statue_beam" )
                    waittimed ( 2.000 )
                    cameraMove(" 4934.720 -8.010 204.570 ", 2.000 )
                    cameraPan(" 0.000 43.600 350.500 ", 2.000, "FALSE" )
                    waittimed ( 0.500 )
                    act("glyph_effect", "glyph_effect" )
                    act("wedge_mover2", "wedge_mover2" )
                    waittimed ( 0.500 )
                    act("wedge_mover3", "wedge_mover3" )
                    waittimed ( 0.500 )
                    act("wedge_mover4", "wedge_mover4" )
                    waittimed ( 0.600 )
                    cameraMove(" 5148.670 -309.260 103.480 ", 3.500 )
                    cameraPan(" 0.000 39.900 67.900 ", 3.500, "FALSE" )
                    act("wedge_mover5", "wedge_mover5" )
                    waittimed ( 0.500 )
                    act("wedge_mover6", "wedge_mover6" )
                    waittimed ( 0.500 )
                    act("wedge_mover7", "wedge_mover7" )
                    waittimed ( 0.500 )
                    act("wedge_mover8", "wedge_mover8" )
                    waittimed ( 1.000 )
                    act("doom_portal_s", "doom_portal_s" )
                    waittimed ( 1.000 )
                    act("doom_portal_loop", "doom_portal_loop" )
                    act("portal_light", "portal_light" )
                    waittimed ( 2.000 )
                    remove ( "statue_trigger", "statue_trigger" )
                    remove ( "doom_light4", "doom_light4" )
                    setEnable("link_doom5", "TRUE" )
                    setGameFlag("doom_end", 1, 1 )
                    objective ( "doom_obj0",  "EOBJCMD_SHOW" )
                    objective ( "doom_obj10",  "EOBJCMD_SHOW" )
                    endCutScene("FALSE", "TRUE" )
               endif
          endif
     endif
else
     reset = getZoneReset( )
     if reset == 1
          checkgaunt = getObjective("doom_obj20", "COMPLETE" )
          if checkgaunt == 1
               checkplate = getObjective("doom_obj30", "COMPLETE" )
               if checkplate == 1
                    checkmask = getObjective("doom_obj40", "COMPLETE" )
                    if checkmask == 1
                         setEnable("lab_door", "TRUE" )
                         remove ( "lab_trig", "lab_trig" )
                         # ( "new jiggery with the xtraction point and doorway back to the beginning" )
                         remove ( "end_pillar01", "end_pillar01" )
                         remove ( "end_pillar02", "end_pillar02" )
                         remove ( "back_door", "back_door" )
                         setEnable("back_trigger01", "TRUE" )
                         setEnable("back_trigger02", "TRUE" )
                         # ( "---" )
                         # ( "continue on with the cutscene as normal" )
                         act("light_doom4", "light_doom4" )
                         remove ( "doom_light1", "doom_light1" )
                         remove ( "doom_light2", "doom_light2" )
                         remove ( "doom_light3", "doom_light3" )
                         remove ( "trigger_statue_looker", "trigger_statue_looker" )
                         remove ( "doom_lightclamp1", "doom_lightclamp1" )
                         remove ( "doom_lightclamp2", "doom_lightclamp2" )
                         remove ( "doom_lightclamp3", "doom_lightclamp3" )
                         swapInStump("breakstation1" )
                         act("upgrade_enabler", "upgrade_enabler" )
                         swapInStump("breakstation2" )
                         swapInStump("breakstation3" )
                         copyOriginAndAngles("doom_armor", "plate_null" )
                         copyOriginAndAngles("doom_gauntlets", "gaunt_null" )
                         copyOriginAndAngles("doom_mask", "mask_null" )
                         setEnable("xtraction_point01", "TRUE" )
                         act("statue_lightbeam", "statue_lightbeam" )
                         act("statue_beam", "statue_beam" )
                         waittimed ( 0.100 )
                         act("wedge_mover2", "wedge_mover2" )
                         act("wedge_mover3", "wedge_mover3" )
                         act("wedge_mover4", "wedge_mover4" )
                         act("wedge_mover5", "wedge_mover5" )
                         act("wedge_mover6", "wedge_mover6" )
                         act("wedge_mover7", "wedge_mover7" )
                         act("wedge_mover8", "wedge_mover8" )
                         act("doom_portal_s", "doom_portal_s" )
                         act("doom_portal_loop", "doom_portal_loop" )
                         act("portal_light", "portal_light" )
                         act("glyph_effect", "glyph_effect" )
                         waittimed ( 0.500 )
                         remove ( "statue_trigger", "statue_trigger" )
                         remove ( "doom_light4", "doom_light4" )
                         setEnable("link_doom5", "TRUE" )
                         setGameFlag("doom_end", 1, 1 )
                    endif
               endif
          endif
     endif
     setEnable("xtraction_point01", "TRUE" )
endif
doom1 = getGameFlag("doom1", 1 )
if doom1 == 0
     doc = isActorOnTeam("DrStrange" )
     if doc == 1
          startConversation("act5/doom/doom1/5_doom1_012" )
     else
          startCharConversation("act5/doom/doom1/5_doom1_010", "BlackPanther", "act5/doom/doom1/5_doom1_014" )
     endif
endif

